<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#007acc">
    <title>ZeAPI - API工具</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
</head>
<body>
    <div id="app">
        <!-- 顶部工具栏 -->
        <header class="toolbar">
            <div class="toolbar-left">
                <button id="new-request-btn" class="btn btn-primary" aria-label="新建请求">
                    <i class="fas fa-plus" aria-hidden="true"></i> 
                    <span class="btn-text">新建请求</span>
                </button>
                <button id="save-btn" class="btn btn-secondary" aria-label="保存当前请求">
                    <i class="fas fa-save" aria-hidden="true"></i> 
                    <span class="btn-text">保存</span>
                </button>
                <button id="import-btn" class="btn btn-secondary" aria-label="导入请求">
                    <i class="fas fa-file-import" aria-hidden="true"></i> 
                    <span class="btn-text">导入</span>
                </button>
            </div>
            <div class="toolbar-right">
                <div class="environment-selector">
                    <label for="env-select">环境:</label>
                    <select id="env-select" aria-label="选择环境">
                        <option value="dev">开发环境</option>
                        <option value="test">测试环境</option>
                        <option value="prod">生产环境</option>
                    </select>
                </div>
            </div>
        </header>

        <!-- 主要内容区域 -->
        <div class="main-content">
            <!-- 左侧边栏 -->
            <aside class="sidebar" role="complementary">
                <div class="sidebar-header">
                    <h3>请求集合</h3>
                    <button id="add-collection-btn" class="btn-icon" aria-label="添加新集合">
                        <i class="fas fa-folder-plus" aria-hidden="true"></i>
                    </button>
                </div>
                <div class="collections-list" id="collections-list" role="navigation" aria-label="请求集合列表">
                    <!-- 动态生成的集合列表 -->
                </div>
            </aside>

            <!-- 主工作区 -->
            <main class="workspace" role="main">
                <div class="request-panel">
                    <!-- 请求配置区 -->
                    <div class="request-config">
                        <div class="request-line">
                            <select id="method-select" class="method-select" aria-label="选择HTTP方法">
                                <option value="GET">GET</option>
                                <option value="POST">POST</option>
                                <option value="PUT">PUT</option>
                                <option value="DELETE">DELETE</option>
                                <option value="PATCH">PATCH</option>
                                <option value="HEAD">HEAD</option>
                                <option value="OPTIONS">OPTIONS</option>
                            </select>
                            <input type="url" id="url-input" class="url-input" placeholder="输入请求URL..." aria-label="请求URL" autocomplete="url" autocapitalize="none" autocorrect="off">
                            <button id="send-btn" class="btn btn-send" aria-label="发送请求">
                                <i class="fas fa-paper-plane" aria-hidden="true"></i> 
                                <span class="btn-text">发送</span>
                            </button>
                        </div>
                    </div>

                    <!-- 请求详情标签页 -->
                    <div class="request-tabs" role="tablist">
                        <div class="tab-headers">
                            <button class="tab-header active" data-tab="params" role="tab" aria-selected="true" aria-controls="params-tab" id="params-tab-button">参数</button>
                            <button class="tab-header" data-tab="headers" role="tab" aria-selected="false" aria-controls="headers-tab" id="headers-tab-button">请求头</button>
                            <button class="tab-header" data-tab="body" role="tab" aria-selected="false" aria-controls="body-tab" id="body-tab-button">请求体</button>
                            <button class="tab-header" data-tab="auth" role="tab" aria-selected="false" aria-controls="auth-tab" id="auth-tab-button">认证</button>
                        </div>

                        <!-- 参数标签页 -->
                        <div class="tab-content active" id="params-tab" role="tabpanel" aria-labelledby="params-tab-button">
                            <div class="params-container">
                                <div class="params-header">
                                    <span>查询参数</span>
                                    <button class="btn-add-param" aria-label="添加新参数">
                                        <i class="fas fa-plus" aria-hidden="true"></i> 
                                        <span class="btn-text">添加参数</span>
                                    </button>
                                </div>
                                <div class="params-list" id="params-list" role="list">
                                    <!-- 动态生成的参数列表 -->
                                </div>
                            </div>
                        </div>

                        <!-- 请求头标签页 -->
                        <div class="tab-content" id="headers-tab" role="tabpanel" aria-labelledby="headers-tab-button">
                            <div class="headers-container">
                                <div class="headers-header">
                                    <span>请求头</span>
                                    <button class="btn-add-header" aria-label="添加新请求头">
                                        <i class="fas fa-plus" aria-hidden="true"></i> 
                                        <span class="btn-text">添加请求头</span>
                                    </button>
                                </div>
                                <div class="headers-list" id="headers-list" role="list">
                                    <!-- 动态生成的请求头列表 -->
                                </div>
                            </div>
                        </div>

                        <!-- 请求体标签页 -->
                        <div class="tab-content" id="body-tab" role="tabpanel" aria-labelledby="body-tab-button">
                            <div class="body-container">
                                <fieldset class="body-type-selector">
                                    <legend class="sr-only">请求体类型</legend>
                                    <label>
                                        <input type="radio" name="body-type" value="none" checked aria-describedby="body-type-none-desc"> 无
                                        <span id="body-type-none-desc" class="sr-only">不发送请求体</span>
                                    </label>
                                    <label>
                                        <input type="radio" name="body-type" value="json" aria-describedby="body-type-json-desc"> JSON
                                        <span id="body-type-json-desc" class="sr-only">发送JSON格式的请求体</span>
                                    </label>
                                    <label>
                                        <input type="radio" name="body-type" value="form" aria-describedby="body-type-form-desc"> 表单数据
                                        <span id="body-type-form-desc" class="sr-only">发送表单数据格式的请求体</span>
                                    </label>
                                    <label>
                                        <input type="radio" name="body-type" value="raw" aria-describedby="body-type-raw-desc"> 原始数据
                                        <span id="body-type-raw-desc" class="sr-only">发送原始文本格式的请求体</span>
                                    </label>
                                </fieldset>
                                <div class="body-editor">
                                    <textarea id="body-textarea" placeholder="请输入请求体内容..." aria-label="请求体内容" spellcheck="false"></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- 认证标签页 -->
                        <div class="tab-content" id="auth-tab" role="tabpanel" aria-labelledby="auth-tab-button">
                            <div class="auth-container">
                                <div class="auth-type-selector">
                                    <label for="auth-type">认证类型:</label>
                                    <select id="auth-type" aria-label="选择认证类型">
                                        <option value="none">无认证</option>
                                        <option value="bearer">Bearer Token</option>
                                        <option value="basic">Basic Auth</option>
                                        <option value="api-key">API Key</option>
                                    </select>
                                </div>
                                <div class="auth-fields" id="auth-fields" role="group" aria-label="认证字段">
                                    <!-- 动态生成的认证字段 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 响应面板 -->
                <div class="response-panel" role="region" aria-label="响应结果">
                    <div class="response-header">
                        <h3>响应</h3>
                        <div class="response-status" id="response-status" role="status" aria-live="polite">
                            <!-- 响应状态信息 -->
                        </div>
                    </div>
                    <div class="response-tabs" role="tablist">
                        <div class="tab-headers">
                            <button class="tab-header active" data-tab="response-body" role="tab" aria-selected="true" aria-controls="response-body-tab" id="response-body-tab-button">响应体</button>
                            <button class="tab-header" data-tab="response-headers" role="tab" aria-selected="false" aria-controls="response-headers-tab" id="response-headers-tab-button">响应头</button>
                            <button class="tab-header" data-tab="response-cookies" role="tab" aria-selected="false" aria-controls="response-cookies-tab" id="response-cookies-tab-button">Cookies</button>
                        </div>
                        <div class="response-content">
                            <div class="tab-content active" id="response-body-tab" role="tabpanel" aria-labelledby="response-body-tab-button">
                                <div class="response-body-container">
                                    <div class="response-toolbar">
                                        <button class="btn-format" id="format-json-btn" aria-label="格式化JSON响应">
                                            <i class="fas fa-code" aria-hidden="true"></i> 
                                            <span class="btn-text">格式化</span>
                                        </button>
                                        <button class="btn-copy" id="copy-response-btn" aria-label="复制响应内容">
                                            <i class="fas fa-copy" aria-hidden="true"></i> 
                                            <span class="btn-text">复制</span>
                                        </button>
                                    </div>
                                    <pre id="response-body" role="log" aria-label="响应内容"><code>等待发送请求...</code></pre>
                                </div>
                            </div>
                            <div class="tab-content" id="response-headers-tab" role="tabpanel" aria-labelledby="response-headers-tab-button">
                                <div id="response-headers-content" role="log" aria-label="响应头信息">
                                    <!-- 响应头内容 -->
                                </div>
                            </div>
                            <div class="tab-content" id="response-cookies-tab" role="tabpanel" aria-labelledby="response-cookies-tab-button">
                                <div id="response-cookies-content" role="log" aria-label="Cookie信息">
                                    <!-- Cookies内容 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- 模态框 -->
    <div id="modal-overlay" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-hidden="true">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-title">标题</h3>
                <button class="modal-close" aria-label="关闭模态框">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- 模态框内容 -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="modal-cancel">取消</button>
                <button class="btn btn-primary" id="modal-confirm">确定</button>
            </div>
        </div>
    </div>

    <!-- 通知 -->
    <div class="notification" id="notification" role="alert" aria-live="assertive" aria-hidden="true">
        <span id="notification-message"></span>
        <button class="notification-close" id="notification-close" aria-label="关闭通知">&times;</button>
    </div>

    <script src="scripts/main.ts" type="module"></script>
</body>
</html>